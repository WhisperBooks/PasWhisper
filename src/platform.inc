
{$IF DEFINED(FPC)}
  {$IF DEFINED(LINUX) and DEFINED(CPUX86_64)}
    {$DEFINE OS_LINUX64}
  {$ELSEIF DEFINED(LINUX) and DEFINED(CPUAARCH64)}
    {$DEFINE OS_LINUX64ARM}
  {$ELSEIF DEFINED(MSWINDOWS) and DEFINED(CPUX86_64)}
    {$DEFINE OS_WIN64}
  {$ELSEIF DEFINED(MSWINDOWS) and DEFINED(CPUAARCH64)}
    {$DEFINE OS_WIN64ARM}
  {$ELSEIF DEFINED(DARWIN)}
    {$DEFINE OS_OSX}
    {$IF DEFINED(CPUAARCH64)}
      {$DEFINE OS_OSX64ARM}
    {$ELSEIF DEFINED(CPUX86_64)}
      {$DEFINE OS_OSX64}
    {$ENDIF}
  {$ELSE}
    {$FATAL Unsupported Platform}
  {$ENDIF}
{$ELSE}
  {$IF DEFINED(LINUX64) and DEFINED(CPUX64)}
    {$DEFINE OS_LINUX64)}
  {$ELSEIF DEFINED(MSWINDOWS) and DEFINED(CPUX64)}
    {$DEFINE OS_WIN64)}
  {$ELSEIF DEFINED(OSX64) and DEFINED(CPUARM64)}
    {$DEFINE OS_OSX}
    {$DEFINE OS_OSX64ARM)}
  {$ELSEIF DEFINED(OSX64) and DEFINED(CPUX64)}
    {$DEFINE OS_OSX}
    {$DEFINE OS_OSX64)}
  {$ELSEIF DEFINED(ANDROID64)}
    {$DEFINE OS_ANDROID64)}
  {$ELSEIF DEFINED(IOS)}
    {$DEFINE OS_IOS)}
  {$ELSE}
    {$MESSAGE FATAL 'Unsupported Platform'}
  {$ENDIF}
{$ENDIF}

